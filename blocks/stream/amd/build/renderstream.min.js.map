{"version":3,"sources":["../src/renderstream.js"],"names":["define","$","videojs","ModalEvents","ModalFactory","Templates","init","document","on","data","create","title","type","types","DEFAULT","body","render","done","modal","show","getRoot","shown","player","id","vid","src","autoplay","controls","streamurl","play","hidden","currentVideo","dispose","bind"],"mappings":"AAAAA,OAAM,6BAAC,CAAC,QAAD,CAAU,0BAAV,CAAsC,mBAAtC,CAA2D,oBAA3D,CAAgF,gBAAhF,CAAD,CAAoG,SAASC,CAAT,CAAYC,CAAZ,CAAqBC,CAArB,CAAkCC,CAAlC,CAA+CC,CAA/C,CAA0D,CAChK,MAAO,CACHC,IAAI,CAAE,eAAe,CACnBL,CAAC,CAACM,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,CAAwB,gBAAxB,CAA0C,UAAU,CAClD,GAAIC,CAAAA,CAAI,CAAGR,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,EAAX,CACAL,CAAY,CAACM,MAAb,CAAoB,CAChBC,KAAK,CAAEF,CAAI,CAACE,KADI,CAEhBC,IAAI,CAAER,CAAY,CAACS,KAAb,CAAmBC,OAFT,CAGhBC,IAAI,CAAEV,CAAS,CAACW,MAAV,CAAiB,sBAAjB,CAAyCP,CAAzC,CAHU,CAApB,EAIGQ,IAJH,CAIQ,SAASC,CAAT,CAAgB,CACpBA,CAAK,CAACC,IAAN,GACAD,CAAK,CAACE,OAAN,GAAgBZ,EAAhB,CAAmBL,CAAW,CAACkB,KAA/B,CAAsC,UAAU,IACtCC,CAAAA,CAAM,CAAGpB,CAAO,CAAC,eAAeO,CAAI,CAACc,EAArB,CADsB,CAExCC,CAAG,CAAGF,CAAM,CAACG,GAAP,CAAW,CACjBC,QAAQ,GADS,CAEjBC,QAAQ,GAFS,CAGjBF,GAAG,CAAEhB,CAAI,CAACmB,SAHO,CAIjBhB,IAAI,CAAE,uBAJW,CAAX,CAFkC,CAQ5CU,CAAM,CAACO,IAAP,EACC,CATL,EAUAX,CAAK,CAACE,OAAN,GAAgBZ,EAAhB,CAAmBL,CAAW,CAAC2B,MAA/B,CAAuC,UAAU,CAC7C,GAAIC,CAAAA,CAAY,CAAG7B,CAAO,CAAC,eAAeO,CAAI,CAACc,EAArB,CAA1B,CACAQ,CAAY,CAACC,OAAb,EACH,CAHD,CAIH,CAhBO,CAgBNC,IAhBM,CAgBD,IAhBC,CAJR,CAqBD,CAvBD,CAyBD,CA3BE,CA6BV,CA9BK,CAAN","sourcesContent":["define(['jquery','media_videojs/video-lazy', 'core/modal_events', 'core/modal_factory','core/templates'], function($, videojs, ModalEvents, ModalFactory,Templates) {\n    return {\n        init: function(cmid) {\n          $(document).on('click', '.renderervideo', function(){\n            var data = $(this).data();\n            ModalFactory.create({\n                title: data.title,\n                type: ModalFactory.types.DEFAULT,\n                body: Templates.render('block_stream/preview', data),\n            }).done(function(modal) {\n                modal.show();\n                modal.getRoot().on(ModalEvents.shown, function(){\n                    const player = videojs('rendervideo_'+data.id);\n                    var vid = player.src({\n                        autoplay:true,\n                        controls:true,\n                        src: data.streamurl,\n                        type: 'application/x-mpegURL'\n                    });        \n                    player.play();\n                    });\n                modal.getRoot().on(ModalEvents.hidden, function(){\n                    var currentVideo = videojs('rendervideo_'+data.id);\n                    currentVideo.dispose();\n                });\n            }.bind(this));\n          });\n\n        }\n    }\n});\n"],"file":"renderstream.min.js"}