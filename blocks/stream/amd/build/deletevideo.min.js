define ("block_stream/deletevideo",["jquery","core/str","core/modal_factory","core/modal_events","core/ajax"],function(a,b,c,d,f){return{init:function init(){a("a[data-action='deletevideo-favourite']").on("click",function(){var g=a(this).data("id");return b.get_strings([{key:"deletevideo",component:"block_stream"},{key:"deleteconfirm",component:"block_stream"},{key:"confirm"}]).then(function(a){c.create({title:a[0],type:c.types.SAVE_CANCEL,body:a[1]}).done(function(b){this.modal=b;b.setSaveButtonText(a[2]);b.getRoot().on(d.save,function(a){a.preventDefault();var c=f.call([{methodname:"block_stream_delete_video",args:{id:g,contextid:1}}]);c[0].done(function(){b.hide();window.location.reload()}).fail(function(a){console.log(a)})}.bind(this));b.show()}.bind(this))}.bind(this))})}}});
//# sourceMappingURL=deletevideo.min.js.map
