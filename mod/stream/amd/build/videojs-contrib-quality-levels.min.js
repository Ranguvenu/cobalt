/*! @name videojs-contrib-quality-levels @version 3.0.0 @license Apache-2.0 */
var global,factory;global=window,factory=function(videojs){var e,videojs__default=(e=videojs)&&"object"==typeof e&&"default"in e?e:{default:e};class QualityLevel{constructor(representation){let level=this;return level.id=representation.id,level.label=level.id,level.width=representation.width,level.height=representation.height,level.bitrate=representation.bandwidth,level.frameRate=representation.frameRate,level.enabled_=representation.enabled,Object.defineProperty(level,"enabled",{get:()=>level.enabled_(),set(enable){level.enabled_(enable)}}),level}}class QualityLevelList extends videojs__default.default.EventTarget{constructor(){super();let list=this;return list.levels_=[],list.selectedIndex_=-1,Object.defineProperty(list,"selectedIndex",{get:()=>list.selectedIndex_}),Object.defineProperty(list,"length",{get:()=>list.levels_.length}),list}addQualityLevel(representation){let qualityLevel=this.getQualityLevelById(representation.id);if(qualityLevel)return qualityLevel;const index=this.levels_.length;return qualityLevel=new QualityLevel(representation),""+index in this||Object.defineProperty(this,index,{get(){return this.levels_[index]}}),this.levels_.push(qualityLevel),this.trigger({qualityLevel:qualityLevel,type:"addqualitylevel"}),qualityLevel}removeQualityLevel(qualityLevel){let removed=null;for(let i=0,l=this.length;i<l;i++)if(this[i]===qualityLevel){removed=this.levels_.splice(i,1)[0],this.selectedIndex_===i?this.selectedIndex_=-1:this.selectedIndex_>i&&this.selectedIndex_--;break}return removed&&this.trigger({qualityLevel:qualityLevel,type:"removequalitylevel"}),removed}getQualityLevelById(id){for(let i=0,l=this.length;i<l;i++){const level=this[i];if(level.id===id)return level}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}QualityLevelList.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const event in QualityLevelList.prototype.allowedEvents_)QualityLevelList.prototype["on"+event]=null;const registerPlugin=videojs__default.default.registerPlugin||videojs__default.default.plugin,qualityLevels=function(options){return function(player,options){const originalPluginFn=player.qualityLevels,qualityLevelList=new QualityLevelList,disposeHandler=function(){qualityLevelList.dispose(),player.qualityLevels=originalPluginFn,player.off("dispose",disposeHandler)};return player.on("dispose",disposeHandler),player.qualityLevels=()=>qualityLevelList,player.qualityLevels.VERSION="3.0.0",qualityLevelList}(this,videojs__default.default.mergeOptions({},options))};return registerPlugin("qualityLevels",qualityLevels),qualityLevels.VERSION="3.0.0",qualityLevels},"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("media_videojs/video-lazy")):"function"==typeof define&&define.amd?define("mod_stream/videojs-contrib-quality-levels",["media_videojs/video-lazy"],factory):(global="undefined"!=typeof globalThis?globalThis:global||self).videojsContribQualityLevels=factory(global.videojs);

//# sourceMappingURL=videojs-contrib-quality-levels.min.js.map