{"version":3,"sources":["../src/charts.js"],"names":["define","$","videojs","DataTable","flatpickr","RadiosToSlider","ModalFactory","ModalEvents","Fragment","Templates","Ajax","Str","LineChart","container","reportdata","document","getElementById","Highcharts","chart","title","text","xAxis","categories","plotOptions","line","dataLabels","enabled","enableMouseTracking","series","SparklineChart","type","width","height","datesinfo","credits","legend","yAxis","visible","column","exporting","ReportsCharts","completedvideosbyusers","JSON","parse","stream_reports_data","completedusersbyvideos","toplikes","topratings","topviews","weekvideos","weekminutes","weekviews","weeklikesdislikes","weekratings","container2","length","get_strings","key","component","then","s","labels","rotation","style","fontSize","min","on","timestamps","data","courseid","action","moduleid","params","promise","call","methodname","args","done","render","html","change","value","val","promises","timeperiod","response","dt","table","each","index","fullname","completedvideos","fail","ex","console","log","container3","dailyvisits","showTable","csv","name","color","align","format","y","fontFamily"],"mappings":"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","sourcesContent":["/**\n * Streaming video js\n *\n * @module     mod_stream/stream\n * @class      stream\n * @package    mod_stream\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery',\n        'media_videojs/video-lazy', \n        'mod_stream/jquery.dataTables', \n        'mod_stream/flatpickr', \n        'mod_stream/radioslider', \n        'core/modal_factory', \n        'core/modal_events', \n        'core/fragment', \n        'core/templates', \n        'core/ajax',\n        'core/str'], \n        function($,videojs, DataTable, flatpickr, RadiosToSlider, ModalFactory, ModalEvents, Fragment, Templates, Ajax, Str){\n            return {\n                LineChart: function(container, reportdata) {\n                  if(!document.getElementById(container)){\n                    return false;\n                  }\n                    Highcharts.chart(container, {\n                            title: {\n                                text: ''\n                            },\n                            xAxis: {\n                                categories: reportdata[0]\n                            },\n                            plotOptions: {\n                                line: {\n                                    dataLabels: {\n                                        enabled: true\n                                    },\n                                    enableMouseTracking: false\n                                }\n                            },\n                            series:  reportdata[1]\n                            \n                        });\n                },\n                SparklineChart: function(container, reportdata) {\n                  if(!document.getElementById(container)){\n                    return false;\n                  }\n                   Highcharts.chart(container, {\n                      chart: {\n                        type: 'column',\n                        width:300,\n                        height: 75\n                      },\n                      title: {\n                              text: ''\n                            },\n                      xAxis: {\n                         categories: reportdata[0][0].datesinfo\n                      },\n                      credits: {\n                          enabled: false\n                      },\n                      legend: {\n                          enabled: false\n                      },\n                      yAxis: {\n                          visible: false,\n                      },\n                      plotOptions: {\n                          column: {\n                              dataLabels: {\n                                  enabled: false\n                              },\n                              legend: {\n                                enabled: false\n                              },\n                              enableMouseTracking: false\n                          }\n                      },\n                    series:  reportdata[0],\n                    exporting: {\n                            enabled: false\n                        }\n                         });\n                 },\n                 ReportsCharts: function(){\n                    var completedvideosbyusers = JSON.parse(stream_reports_data.completedvideosbyusers);\n                    var completedusersbyvideos = JSON.parse(stream_reports_data.completedusersbyvideos);\n                    var toplikes = JSON.parse(stream_reports_data.toplikes);\n                    var topratings = JSON.parse(stream_reports_data.topratings);\n                    var topviews = JSON.parse(stream_reports_data.topviews);\n                    var weekvideos = JSON.parse(stream_reports_data.weekvideos);\n                    var weekminutes = JSON.parse(stream_reports_data.weekminutes);\n                    var weekviews = JSON.parse(stream_reports_data.weekviews);\n                    var weeklikesdislikes = JSON.parse(stream_reports_data.weeklikesdislikes);\n\n                    var weekratings = JSON.parse(stream_reports_data.weekratings);\n\n\n                    this.LineChart('toplikes', toplikes);\n                    this.LineChart('topratings', topratings);\n                    this.LineChart('topviews', topviews);\n\n                    this.SparklineChart('activevideos', weekvideos);\n                    this.SparklineChart('streamedvideos', weekminutes);\n                    this.SparklineChart('totalviews', weekviews);\n                    this.SparklineChart('likesdislikes', weeklikesdislikes);\n\n                    this.SparklineChart('ratings', weekratings);\n\n                    var container2 = $('#container2');\n                    if(container2.length){\n                      return Str.get_strings([{\n                      key: 'noofusers',\n                      component: 'stream'\n                  }]).then(function(s) {\n                      var completedUsersbyVideoGraph = Highcharts.chart('container2', {\n                          title: {\n                              text: ''\n                          },\n                          xAxis: {\n                              categories: completedusersbyvideos[0],\n                              labels: {\n                                  rotation: -45,\n                                  style: {\n                                      fontSize: '13px',\n                                  }\n                              }\n                          },\n                          yAxis: {\n                              min: 0,\n                              title: {\n                                  text: s[0]\n                              }\n                          },\n                          legend: {\n                              enabled: true\n                          },\n                          series: completedusersbyvideos[1]\n                      });\n                    });\n                      $(document).on('click', '.togglecontaier1', function(){\n                        var  chartContainer = $(\"#container1\");\n                        if($(this).data('reporttype') == 'table'){\n                          if (chartContainer.is(\":visible\")) {\n                            if (!completedVideosbyUsersGraph.dataTableDiv) {\n                              completedVideosbyUsersGraph.update({\n                                  exporting: {\n                                      showTable: true\n                                  }\n                              });\n                            } else {\n                                $(completedVideosbyUsersGraph.dataTableDiv).show();\n                            }\n                          }\n                          chartContainer.hide();\n                        }else{\n                          chartContainer.show();\n                          completedVideosbyUsersGraph.update({\n                              exporting: {\n                                  showTable: false\n                              }\n                          });\n                          $(completedVideosbyUsersGraph.dataTableDiv).hide();\n                        }\n                      });\n                      $(document).on('click', '.togglecontaier2', function(){\n                        var  chartContainer = $(\"#container2\");\n                        if($(this).data('reporttype') == 'table'){\n\n                            // completedUsersbyVideoGraph.dataTableDiv.classList.add('modal fade');\n\n                          if (chartContainer.is(\":visible\")) {\n                            if (!completedUsersbyVideoGraph.dataTableDiv) {\n                              completedUsersbyVideoGraph.update({\n                                  exporting: {\n                                      showTable: true\n                                  }\n                              });\n                            } else {\n                                $(completedUsersbyVideoGraph.dataTableDiv).show();\n                            }\n                          }\n                          chartContainer.hide();\n                        }else{\n                          chartContainer.show();\n                          completedUsersbyVideoGraph.update({\n                              exporting: {\n                                  showTable: false\n                              }\n                          });\n                          $(completedUsersbyVideoGraph.dataTableDiv).hide();\n                        }\n                      });\n                      $(document).on('graphsReload', '#segmented-button', function(){\n                        var timestamps = $(\"#segmented-button\").data('timestamps');\n                        var courseid = $(\"#segmented-button\").data('course');\n                        // console.log(data);\n                        var promise = Ajax.call([{\n                            methodname: 'mod_stream_completedVideosbyUsersGraph',\n                            args: {timestamps: timestamps, courseid: courseid}\n                        }]);\n                        promise[0].done(function(data){\n                            var data = JSON.parse(data);\n\n                            completedUsersbyVideoGraph.update({\n                              xAxis: {\n                                categories: data.completedusersbyvideos['categories'],\n                              },\n                              series: data.completedusersbyvideos['data'],\n                            });\n                        });\n                        var promise = Ajax.call([{\n                          methodname : 'mod_stream_topVideosInfo',\n                                args : {courseid: courseid, timestamps: timestamps}\n                        }]);\n                          promise[0].done(function(data){\n                          var data = JSON.parse(data);\n                            Templates.render('mod_stream/topReports', data).then(function(html, js) {\n                              $('#topreportsInfo').html(html);\n                            });\n                        });\n                        var promise = Ajax.call([{\n                          methodname : 'mod_stream_durationbasedinfo',\n                                args : {courseid: courseid, timestamps: timestamps}\n                        }]);\n                        promise[0].done(function(data){\n                          var data = JSON.parse(data);\n                            Templates.render('mod_stream/durationbased', data).then(function(html, js) {\n                              $('#durationbasedinfo').html(html);\n                            });\n                        });\n                      });\n                }\n                      $(document).on('graphsReload', '#segmented-button', function(){\n                        var timestamps = $(\"#segmented-button\").data('timestamps');\n                        var courseid = $(\"#segmented-button\").data('course');\n                        var action = $(\"#segmented-button\").data('action');\n                        var moduleid = $(\"#segmented-button\").data('moduleid');\n                        if(moduleid == undefined){\n                          moduleid = '';\n                        }\n                                var params = {timestamps: timestamps};\n                                if(action == 'reportsHeader'){\n                                  params.courseid = courseid;\n                                }else{\n                                  params.moduleid = courseid;\n                                }\n                                var promise = Ajax.call([{\n                                  methodname : 'mod_stream_'+action,\n                          args: params\n                                }]);\n                                promise[0].done(function(data){\n                                  var data = JSON.parse(data);\n                                  Templates.render('mod_stream/reportsHeading', data).then(function(html, js) {\n                                      $('#reportsHeader').html(html);\n                                  });\n                                });\n                          });\n                        $( \".timeperiod\" ).change(function() {\n                            var value = $(this).val();\n                            var courseid = $(this).data('courseid');\n                            var promises = Ajax.call([{\n                                methodname: 'stream_timeperiod',\n                                args: { timeperiod: value, courseid:courseid },\n                            }])\n\n                            promises[0].done(function(response) {\n                               var dt =  JSON.parse(response.timeperiod);\n                               var table = '';\n                                $.each(dt, function( index, value) {\n                                    table  += '<tr><td>' + value.fullname +\"</td><td>\" + value.completedvideos +\"</td></tr>\";\n                                });\n                                $(\".timeperioddata\").html(table);\n                            }).fail(function(ex) {\n                                console.log(ex);\n                            });\n                        });\n          var container3 = $('#container3');\n          if(container3.length){\n              var completedusersbyvideos = JSON.parse(stream_reports_data.dailyvisits);\n              return Str.get_strings([{\n                  key: 'dailyhitsviews',\n                  component: 'stream'\n              },\n              {\n                  key: 'hitsviews',\n                  component: 'stream'\n              }]).then(function(s) {\n              var container3 = Highcharts.chart('container3', {\n                  chart: {\n                      type: 'line'\n                  },\n                  title: {\n                      text: s[0]\n                  },\n                  xAxis: {\n                      type: 'category',\n                      labels: {\n                          rotation: -45,\n                          style: {\n                              fontSize: '13px',\n                          }\n                      }\n                  },\n                  exporting: {\n                    showTable: false,\n                    csv: {\n                     \n                    }\n                  },\n                  yAxis: {\n                      min: 0,\n                      title: {\n                          text: s[1]\n                      }\n                  },\n                  legend: {\n                      enabled: false\n                  },\n                  series: [{\n                      name: s[1],\n                      data: completedusersbyvideos,\n                      dataLabels: {\n                          enabled: true,\n                          rotation: -90,\n                          color: '#FFFFFF',\n                          align: 'right',\n                          format: '{point.y}', // one decimal\n                          y: 10, // 10 pixels down from the top\n                          style: {\n                            fontSize: '13px',\n                            fontFamily: 'Verdana, sans-serif'\n                          }\n                      }\n                  }]\n              });\n              });\n              $(document).on('click', '.togglecontaier3', function(){\n                var  chartContainer = $(\"#container3\");\n                if($(this).data('reporttype') == 'table'){\n                  if (chartContainer.is(\":visible\")) {\n                    if (!container3.dataTableDiv) {\n                      container3.update({\n                          exporting: {\n                              showTable: true\n                          }\n                      });\n                    } else {\n                        $(container3.dataTableDiv).show();\n                    }\n                  }\n                  chartContainer.hide();\n                }else{\n                  chartContainer.show();\n                  container3.update({\n                      exporting: {\n                          showTable: false\n                      }\n                  });\n                  $(container3.dataTableDiv).hide();\n                }\n              });\n              $(document).on('graphsReload', '#segmented-button', function(){\n                  var action = $(\"#segmented-button\").data('action');\n                  var timestamps = $(\"#segmented-button\").data('timestamps');\n                  var moduleid = $(\"#segmented-button\").data('moduleid');\n                  var courseid = $(\"#segmented-button\").data('course');\n                  return Str.get_strings([{\n                      key: 'hitsviews',\n                      component: 'stream'\n                  }]).then(function(s) {\n                  var promise = Ajax.call([{\n                            methodname : 'mod_stream_completedUsersbyVideos',\n                    args: {moduleid: moduleid, timestamps: timestamps}\n                          }]);\n                          promise[0].done(function(data){\n                          var data = JSON.parse(data);\n                              container3.update({\n                                series: [{\n                                  name: s[0],\n                                  data: data,\n                                  dataLabels: {\n                                      enabled: true,\n                                      rotation: -90,\n                                      color: '#FFFFFF',\n                                      align: 'right',\n                                      format: '{point.y}', // one decimal\n                                      y: 10, // 10 pixels down from the top\n                                      style: {\n                                        fontSize: '13px',\n                                        fontFamily: 'Verdana, sans-serif'\n                                      }\n                                  }\n                              }]\n                              });\n                          });\n                        });\n                  });\n                }\n            },\n            }\n        });\n"],"file":"charts.min.js"}