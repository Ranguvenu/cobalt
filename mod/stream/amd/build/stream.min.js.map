{"version":3,"sources":["../src/stream.js"],"names":["define","$","videojs","DataTable","flatpickr","RadiosToSlider","ModalFactory","ModalEvents","Fragment","Templates","Ajax","Str","tables","init","self","each","viewDatatble","DataTables","id","document","on","console","log","thisDatatble","timestamps","data","attr","columns","search","draw","mode","onClose","selectedDates","enddate","getTime","trigger","size","animation","checkedData","find","today","Date","endDate","getFullYear","getMonth","getDate","start_duration","hide","check","show","courseid","children","val","window","location","href","M","cfg","wwwroot","container","str","type","pagelenth","args","action","sesskey","d","newdata","methodname","JSON","stringify","json","parse","stars","i","icon","class","style","append","DrillDownReportPopup","email","modaltitle","reportname","bodyElement","loadFragment","get_strings","key","component","then","s","create","title","types","DEFAULT","body","done","modal","getRoot","addClass","function","setLarge","bodyRendered","destroy","pageLength","bind"],"mappings":"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","sourcesContent":["/**\n * Streaming video js\n *\n * @module     mod_stream/stream\n * @class      stream\n * @package    mod_stream\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery',\n        'media_videojs/video-lazy',\n        'mod_stream/jquery.dataTables', 'mod_stream/flatpickr', 'mod_stream/radioslider', 'core/modal_factory', 'core/modal_events', 'core/fragment', 'core/templates', 'core/ajax', 'core/str'],\n        function($, videojs, DataTable, flatpickr, RadiosToSlider, ModalFactory, ModalEvents, Fragment, Templates, Ajax, Str){\n    var tables = [];\n    return {\n        init: function() {\n            var self=this;\n            $( \".dataTable\" ).each(function( index ) {\n                viewDatatble = self.DataTables(this.id);\n            });\n\n          $(document).on('graphsReload', '#segmented-button',function(){\n              $( \".dataTable\" ).each(function( index ) {\n                console.log(this);\n               var thisDatatble = self.DataTables(this.id);\n              var timestamps = $(this).data('timestamps');\n                tables[$(this).attr('id')].columns(0).search(timestamps).draw();\n            });\n          });\n\n           flatpickr('#customrange',{\n              mode: 'range',\n              onClose: function(selectedDates, dateStr, instance) {\n                  var enddate = selectedDates[1].getTime() / 1000 + 86400;\n                  var timestamps = selectedDates[0].getTime() / 1000+'-'+enddate;\n                  // viewDatatble.columns(0).search(timestamps).draw();\n                  // coursestatsDatatble.columns(0).search(timestamps).draw();\n                  // summaryDatatble.columns(0).search(timestamps).draw();\n                  // activitystatusDatatble.columns(0).search(timestamps).draw();\n                  $('#segmented-button').data('timestamps', timestamps);\n                  $('#segmented-button').trigger('graphsReload');\n              }\n          });\n\n          var radios = RadiosToSlider.init($('#segmented-button'), {\n              size: 'medium',\n              animation: true,\n          });\n\n          $(document).on('radiochange', '#segmented-button', function(){\n            var checkedData = $('#segmented-button').find('input:checked').attr('value');\n            var today = new Date();\n            var endDate = new Date(today.getFullYear(), today.getMonth(), today.getDate());\n            var start_duration = '';\n            $('#customrange').hide();\n            var check = true;\n            switch(checkedData){\n              case 'week':\n                  start_duration = new Date(today.getFullYear(), today.getMonth(), today.getDate() - 7);\n                  break;\n              case 'month':\n                  start_duration = new Date(today.getFullYear(), today.getMonth() - 1, today.getDate());\n                  break;\n              case 'year':\n                  start_duration = new Date(today.getFullYear() - 1, today.getMonth(), today.getDate());\n                  break;\n              case 'custom':\n                  $('#customrange').show();\n                  return;\n                break;\n                case 'clear':\n                  check = false;\n                break;\n              default:\n                  break;\n            }\n            if(check){\n              var timestamps = start_duration.getTime()/1000+'-'+endDate.getTime()/1000;\n            }else{\n              var timestamps = '0-0';\n            }\n\n            viewDatatble.columns(0).search(timestamps).draw();\n            $('#segmented-button').data('timestamps', timestamps);\n            $('#segmented-button').trigger('graphsReload');\n          });\n        $(document).on('change', '#module_select_filter', function(){\n          var courseid = $('#course_select_filter').children(\"option:selected\").val();\n          window.location.href = M.cfg.wwwroot+'/mod/stream/'+$(this).children(\"option:selected\").data('page')+'?id='+courseid+'&cmid='+$(this).children(\"option:selected\").val();\n        });\n        $(document).on('change', '#course_select_filter', function(){\n          window.location.href = M.cfg.wwwroot+'/mod/stream/'+$(this).children(\"option:selected\").data('page')+'?id='+$(this).children(\"option:selected\").val();\n        });\n\n      },\n      DataTables: function(container){\n       var str = $('#'+container).data('function');\n       var id = $('#'+container).data('id');\n       var type = $('#'+container).data('type');\n       var pagelenth = $('#'+container).data('pagelength');\n       if(pagelenth == undefined){\n         pagelenth = 10;\n       }\n       var args = {action: str,id: id,type: type};\n       console.log(container);\n       return tables[container] = $('#'+container).DataTable({\n            'bInfo' : false,\n                'bLengthChange': false,\n                'language': {\n                        'paginate': {\n                            'next': '>',\n                            'previous': '<'\n                        }\n                },\n            'pageLength': pagelenth,\n            'processing': true,\n            'serverSide': true,\n            \"retrieve\": true,\n            // \"ajax\": M.cfg.wwwroot + \"/mod/stream/reportfinder.php?action=\"+str +\"&id=\"+id +\"&type=\"+type,\n            'ajax': {\n                    \"type\": \"POST\",\n                    \"dataType\": \"json\",\n                    \"url\": M.cfg.wwwroot + '/lib/ajax/service.php?sesskey=' + M.cfg.sesskey + '&info=mod_stream_tablecontent',\n                    \"data\": function(d) {\n                      newdata = {};\n                      newdata.methodname = 'mod_stream_tablecontent';\n                      args.timestamps = $(\"#segmented-button\").data('timestamps');\n                      newdata.args = {args: JSON.stringify({d,args})};\n                    return JSON.stringify([newdata]);\n                },\n                \"dataSrc\" : function (json) {\n                  var data = JSON.parse(json[0].data.data);\n                  return data;\n                }\n            },\n        }).on( 'draw.dt', function () {\n            if(str == 'getSummaryReport'){\n                $('.rating-1').each(function(){\n                    var stars = $(this).data('stars');\n                    for (var i = 1; i <= 5; i++){\n                        var icon = $(\"<i>\", {class : 'fa fa-star', style : \"font-size: 16px; margin-left: 1px; color:\" + (i <= stars ? \"#f1c40f\": \"#ecf0f1\")});\n                        $(this).append(icon);\n                    }\n                });\n            }\n        });\n      },\n      DrillDownReportPopup: function(){\n          $(document).on('click', '.drilldownreportpopup', function(){\n            var data = $(this).data();\n            var container = $(this).data('function') + 'table' + $(this).data('id');\n            var timestamps = $(\"#segmented-button\").data('timestamps');\n            if(timestamps != undefined) {\n                data.timestamps = timestamps;\n            }\n            if(data.email != undefined) {\n                var modaltitle = data.reportname + '(' + data.email +')';\n            } else{\n                var modaltitle = data.reportname;\n            }\n            var bodyElement = Fragment.loadFragment('mod_stream', 'drilldownreport', 1, data);\n            return Str.get_strings([{\n                  key: 'tablesearch',\n                  component: 'stream'\n            }]).then(function(s) {\n            ModalFactory.create({\n                title: modaltitle,\n                type: ModalFactory.types.DEFAULT,\n                body: bodyElement\n            }).done(function(modal) {\n                this.modal = modal;\n                this.modal.getRoot().addClass('drilldown'+data.function);\n                this.modal.setLarge();\n                modal.show();\n                this.modal.getRoot().on(ModalEvents.bodyRendered, function() {\n\n                     $('#'+container).DataTable({\n                      destroy: true,\n              \"language\": {\n                          \"search\": '<i class=\"fa fa-search\"></i>',\n                          \"searchPlaceholder\": s[0],\n                          \"paginate\": {\n                              \"previous\": '<i class=\"fa fa-angle-left\"></i>',\n                              \"next\": '<i class=\"fa fa-angle-right\"></i>'\n                          },\n                       },\n                      \"bInfo\": false,\n                      pageLength: 10\n                     });\n                }.bind(this));\n            }.bind(this));\n          });\n          });\n        }\n    }\n});\n"],"file":"stream.min.js"}